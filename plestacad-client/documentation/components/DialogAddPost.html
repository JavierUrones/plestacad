<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>plestacad-client documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">plestacad-client documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li
  >
  DialogAddPost</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/modules/works/foro/post-list/post-list.component.ts</code>
</p>






<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>modal-add-post.html</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>../modal-foro/modal-add-post.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>../modal-foro/modal-add-post.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#data" >data</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dialogRef" >dialogRef</a>
                            </li>
                            <li>
                                <a href="#form" >form</a>
                            </li>
                            <li>
                                <a href="#formControl" >formControl</a>
                            </li>
                            <li>
                                <a href="#htmlContent" >htmlContent</a>
                            </li>
                            <li>
                                <a href="#invalidTitle" >invalidTitle</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#modulesQuill" >modulesQuill</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onChangedEditor" >onChangedEditor</a>
                            </li>
                            <li>
                                <a href="#onClick" >onClick</a>
                            </li>
                            <li>
                                <a href="#onNoClick" >onNoClick</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(fb: <a href="https://angular.io/api/forms/FormBuilder" target="_blank">FormBuilder</a>, dialogRef: <a href="../interfaces/Post.html" target="_self">MatDialogRef&lt;DialogAddPost&gt;</a>, postService: <a href="../injectables/PostService.html" target="_self">PostService</a>, route: <a href="https://angular.io/api/router/ActivatedRoute" target="_blank">ActivatedRoute</a>, _errorBar: MatSnackBar, data: <a href="../interfaces/DialogDataAddPost.html" target="_self">DialogDataAddPost</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="300" class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:300</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>fb</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/forms/FormBuilder" target="_blank" >FormBuilder</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dialogRef</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/Post.html" target="_self" >MatDialogRef&lt;DialogAddPost&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>postService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PostService.html" target="_self" >PostService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/ActivatedRoute" target="_blank" >ActivatedRoute</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_errorBar</td>
                                                  
                                                        <td>
                                                                    <code>MatSnackBar</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>data</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/DialogDataAddPost.html" target="_self" >DialogDataAddPost</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="313"
                            class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:313</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onChangedEditor"></a>
                    <span class="name">
                        <span ><b>onChangedEditor</b></span>
                        <a href="#onChangedEditor"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onChangedEditor(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="354"
                            class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:354</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Evento que se dispara cuando el usuario escribe en el componente de editor de textos.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onClick"></a>
                    <span class="name">
                        <span ><b>onClick</b></span>
                        <a href="#onClick"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onClick()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="321"
                            class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:321</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Comprueba que los datos del tema creado sean válidos y llama al servicio de temas para crear un nuevo tema a partir de dichos datos.
Se dispara cuando el usuario pulsa el botón de crear.
Cierra el diálogo modal.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onNoClick"></a>
                    <span class="name">
                        <span ><b>onNoClick</b></span>
                        <a href="#onNoClick"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onNoClick()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="349"
                            class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:349</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Se dispara cuando el usuario pulsa el botón de &quot;Cancelar&quot;. Cierra el diálogo modal.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="data"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>data</b></span>
                        <a href="#data"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/DialogDataAddPost.html" target="_self" >DialogDataAddPost</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @Inject(MAT_DIALOG_DATA)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="306" class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:306</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dialogRef"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>dialogRef</b></span>
                        <a href="#dialogRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Post.html" target="_self" >MatDialogRef&lt;DialogAddPost&gt;</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="305" class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:305</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="form"></a>
                    <span class="name">
                        <span ><b>form</b></span>
                        <a href="#form"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormGroup" target="_blank" >FormGroup</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="274" class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:274</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Formulario con los datos del tema</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formControl"></a>
                    <span class="name">
                        <span ><b>formControl</b></span>
                        <a href="#formControl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/forms/FormControl" target="_blank" >FormControl</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="280" class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:280</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>FormControl del formulario</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="htmlContent"></a>
                    <span class="name">
                        <span ><b>htmlContent</b></span>
                        <a href="#htmlContent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="277" class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:277</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Contenido del editor de texto</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="invalidTitle"></a>
                    <span class="name">
                        <span ><b>invalidTitle</b></span>
                        <a href="#invalidTitle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="283" class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:283</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Atributo que comprueba si el título especificado es correcto</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="modulesQuill"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>modulesQuill</b></span>
                        <a href="#modulesQuill"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    toolbar: [
      [&#x27;bold&#x27;, &#x27;italic&#x27;, &#x27;underline&#x27;, &#x27;strike&#x27;],
      [{ font: [] }],
      [{ color: [] }, { background: [] }],
      [{ size: [&#x27;small&#x27;, false, &#x27;large&#x27;, &#x27;huge&#x27;] }],
      [{ header: [1, 2, 3, 4, 5, 6, false] }],
      [{ align: [] }],
      [&#x27;blockquote&#x27;, &#x27;code-block&#x27;],
      [{ list: &#x27;ordered&#x27; }, { list: &#x27;bullet&#x27; }],
      [&#x27;link&#x27;],
      [&#x27;clean&#x27;],
    ]
  }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="287" class="link-to-prism">src/app/modules/works/foro/post-list/post-list.component.ts:287</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Opciones de configuración del componente editor de texto.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { DOCUMENT } from &#x27;@angular/common&#x27;;
import { StringMap } from &#x27;@angular/compiler/src/compiler_facade_interface&#x27;;
import { Component, Inject, OnInit } from &#x27;@angular/core&#x27;;
import { FormBuilder, FormControl, FormGroup, Validators } from &#x27;@angular/forms&#x27;;
import { MatDialog, MatDialogConfig, MatDialogRef, MAT_DIALOG_DATA } from &#x27;@angular/material/dialog&#x27;;
import { MatPaginatorIntl } from &#x27;@angular/material/paginator&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;
import { ActivatedRoute, Router } from &#x27;@angular/router&#x27;;
import { ConfirmDialog } from &#x27;src/app/shared/components/confirm-dialog/confirm-dialog&#x27;;
import { UserService } from &#x27;src/app/shared/services/user.service&#x27;;
import { WorkService } from &#x27;src/app/shared/services/work.service&#x27;;
import { Post } from &#x27;../models/post.model&#x27;;
import { PostService } from &#x27;../post.service&#x27;;

@Component({
  selector: &#x27;app-post-list&#x27;,
  templateUrl: &#x27;./post-list.component.html&#x27;,
  styleUrls: [&#x27;./post-list.component.scss&#x27;],
})
/** Define el componente que muestra la lista de temas de un trabajo académico */
export class PostListComponent implements OnInit {
  /** Lista de temas del trabajo */
  posts: Post[] &#x3D; [];
  /** Opciones  de filtrado de los temas*/
  public options!: any[] | null;
  /** Opción seleccionada de filtrado de temas */
  public selected!: string;
  /** Tamaño de las páginas del paginador. */
  public pageSizeOptions!: number[];

  /** Número de elementos por página del paginador. */
  pageSize!: number;
  /* Número total de temas del trabajo académico */
  length!: number;

  /** Id del trabajo académico */
  idWork!: string;
  /** Id del propietario del trabajo académico */
  workOwnerId!: string;
  /** Atributo que determina cuando el componente está cargando datos */
  loading!: boolean;
  /** Índice seleccionado del paginador */
  pageIndex!: number;
  /** Determina si el usuario está dentro de un tema o no */
  navigation!: boolean;
  /** Determina si el usuario es administrador del sistema*/
  isAdmin: boolean &#x3D; false;
  constructor(
    private confirmDialog: MatDialog,
    private userService: UserService,
    private postService: PostService,
    private route: ActivatedRoute,
    public dialog: MatDialog,
    private router: Router,
    private paginator: MatPaginatorIntl,
    private workService: WorkService,
    @Inject(DOCUMENT) document: any

  ) {
    this.paginator.firstPageLabel &#x3D; &#x27;Primera página&#x27;;
    this.paginator.itemsPerPageLabel &#x3D; &quot;Elementos por página&quot;;
    this.paginator.lastPageLabel &#x3D; &quot;Última página&quot;;
    this.paginator.nextPageLabel &#x3D; &quot;Siguiente página&quot;;
    this.paginator.previousPageLabel &#x3D; &quot;Anterior página&quot;
    this.paginator.getRangeLabel &#x3D; this.getRangeLabel;

  }
  /** Determina el texto del paginador. */
  getRangeLabel(page: number, pageSize: number, length: number): string {
    if (length &#x3D;&#x3D;&#x3D; 0) {
      return &quot;Página 1 de 1&quot;;
    }
    const amountPages &#x3D; Math.ceil(length / pageSize);
    return &quot;Página &quot; + page + 1 + &quot; de &quot; + amountPages;
  }

  /** Establece los atributos del paginador y las opciones del selector de filtrado de temas.
   * Luego llama a la función que se encarga de cargar los datos de los temas desde el servidor.
   */
  ngOnInit(): void {
    this.idWork &#x3D; document.location.href.split(&quot;/&quot;)[4]
    this.userService.getUserById(sessionStorage.getItem(&quot;id&quot;) as string).subscribe((res) &#x3D;&gt; {
      if(res.data.user.isAdmin)
        this.isAdmin &#x3D; true;
      else
        this.isAdmin &#x3D; false;
    })
    this.loading &#x3D; false;
    this.navigation &#x3D; false;

    this.postService.getTotalPostByWorkId(this.idWork).subscribe((response) &#x3D;&gt; {
      this.length &#x3D; response.data.length;
      this.pageSize &#x3D; this.length;
      this.options &#x3D; [
        { value: &#x27;desc&#x27;, name: &#x27;Más recientes&#x27; },
        { value: &#x27;asc&#x27;, name: &#x27;Menos recientes&#x27; },
        { value: &#x27;favorites&#x27;, name: &#x27;Favoritos&#x27; },
      ];
      this.selected &#x3D; this.options[0].value;
      var nullEvent &#x3D; {
        pageIndex: 0,
        pageSize: 10
      }

      this.getServerData(nullEvent)
    });
  }


  /** Llama al servicio para marcar un tema como favorito. Se dispará cuando un usuario pulsa el botón con forma de corazón de un tema. */
  markAsFavorite(postId: string, isFavorite: boolean) {
    this.postService.markPostAsFavorite(postId, isFavorite).subscribe((response) &#x3D;&gt; {
      var nullEvent &#x3D; {
        pageIndex: 0,
        pageSize: this.pageSize
      }
      this.getServerData(nullEvent);
    }
    );


  }

  /** Obtiene los datos de la lista de temas del trabajo académico a partir de la página en la que se encuentre el paginador.
   * @param event - evento con el contenido del número de página del paginador.
   */
  getServerData(event: any) {
    //En el evento viene el numero de pagina.
    //El pageSize (elementos por pagina) se especifica al inicio y cambia con el evento.
    //El Length se carga de la respuesta.

    this.workService.getWorkById(this.idWork).subscribe((res) &#x3D;&gt; {
      this.workOwnerId &#x3D; res.data.authorId;
    })
    if (event !&#x3D; null) {
      this.pageIndex &#x3D; event.pageIndex + 1;
      this.pageSize &#x3D; event.pageSize;
    }

    this.loading &#x3D; true;

    this.postService
      .getPostsByWorkId(this.idWork, this.selected, this.pageSize, this.pageIndex)
      .subscribe((posts) &#x3D;&gt; {

        this.posts &#x3D; posts.data.elementsInPage;
        this.length &#x3D; posts.data.numElems;

        if (this.length &lt;&#x3D; 10) {
          this.pageSizeOptions &#x3D; [10]
          this.pageIndex &#x3D; 1;
        } else {
          this.pageSizeOptions &#x3D; [this.length / this.length, Math.floor(this.length / 2), this.length]
        }

        this.posts.forEach((post) &#x3D;&gt; {
          this.userService
            .getFullNameById(post.authorId)
            .subscribe((fullname) &#x3D;&gt; {
              post.authorFullName &#x3D; fullname.data.fullname;
            });
        });


        if (posts) {
          this.loading &#x3D; false;
        }

      });

  }
  /*
    /** Se dispara cuando el usuario ordena la lista de temas con el componente selector.
     * @param option - opción seleccionada en el selector.
     */
  onFilterChange(option: any) {
    var nullEvent &#x3D; {
      pageIndex: this.pageIndex,
      pageSize: this.pageSize
    }
    this.selected &#x3D; option;
    this.getServerData(null)
  }

  /** Comprueba los permisos del usuario indicado: si el usuario pasado por parámetro es el usuario en sesión o si el author del trabajo académico es el usuario en sesión.
   * @param authorId - id del autor del tema.
   * @returns true - si es el usuario en sesión o si el usuario en sesión es el autor del trabajo académico.
   * @returns false - en caso contrario
  */
  checkPermissions(authorId: string) {
    if (authorId &#x3D;&#x3D; sessionStorage.getItem(&quot;id&quot;) || this.workOwnerId &#x3D;&#x3D; sessionStorage.getItem(&quot;id&quot;) || this.isAdmin) return true;
    else return false;
  }

  /** 
   * Abre el diálogo de confirmación de borrado, si se acepta llama al servicio para eliminar el tema.
   * Esta función se dispara cuando el usuario pulsa el botón de borrar un tema.
   * @param id - id del tema a borrar
   */
  deletePost(id: string) {
    this.confirmDialog
      .open(ConfirmDialog, {
        data: &#x27;¿Estás seguro que quieres eliminar este tema?&#x27;
      }).afterClosed().subscribe((confirm: Boolean) &#x3D;&gt; {
        if (confirm) {
          this.postService.deletePost(id).subscribe((response) &#x3D;&gt; {
            var nullEvent &#x3D; {
              pageIndex: 0,
              pageSize: this.pageSize
            }
            this.getServerData(nullEvent);
          })
        }
      });

  }
  /**
   * Abre el diálogo modal para crear un tema y recarga la lista de temas cuando este se cierra.
   * Esta función se dispara cuando el usuario pulsa el botón de crear un nuevo tema.
   */
  newPost() {
    let config: MatDialogConfig &#x3D; {
      height: &quot;70%&quot;,
      width: &quot;100%&quot;,
      panelClass: &quot;dialog-responsive&quot;,
      data: { workId: this.idWork }
    }

    const dialogRef &#x3D; this.dialog.open(DialogAddPost, config);
    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {

      var nullEvent &#x3D; {
        pageIndex: 0,
        pageSize: this.pageSize
      }


      this.getServerData(nullEvent)
    });
  }


  /** Accede al tema indicado
   * @param id - id del tema a acceder.
   */
  navigateToPost(id: string) {
    this.navigation &#x3D; true;

    this.router.navigate([&quot;/trabajos/&quot; + this.idWork + &quot;/posts/&quot;, id]);
  }



}

/**
 * Define la interfaz para el intercambio de datos con el diálogo de creación de un nuevo tema.
 */
export interface DialogDataAddPost {
  /** Id del trabajo académico */
  workId: string
}

@Component({
  selector: &#x27;modal-add-post.html&#x27;,
  templateUrl: &#x27;../modal-foro/modal-add-post.html&#x27;,
  styleUrls: [&#x27;../modal-foro/modal-add-post.scss&#x27;],

})
/** Define el diálogo para la creación de un nuevo tema  */
export class DialogAddPost {

  /** Formulario con los datos del tema */
  form!: FormGroup;

  /** Contenido del editor de texto */
  htmlContent!: any;

  /** FormControl del formulario */
  formControl!: FormControl;

  /** Atributo que comprueba si el título especificado es correcto */
  invalidTitle!: boolean;


  /** Opciones de configuración del componente editor de texto. */
  public modulesQuill &#x3D; {
    toolbar: [
      [&#x27;bold&#x27;, &#x27;italic&#x27;, &#x27;underline&#x27;, &#x27;strike&#x27;],
      [{ font: [] }],
      [{ color: [] }, { background: [] }],
      [{ size: [&#x27;small&#x27;, false, &#x27;large&#x27;, &#x27;huge&#x27;] }],
      [{ header: [1, 2, 3, 4, 5, 6, false] }],
      [{ align: [] }],
      [&#x27;blockquote&#x27;, &#x27;code-block&#x27;],
      [{ list: &#x27;ordered&#x27; }, { list: &#x27;bullet&#x27; }],
      [&#x27;link&#x27;],
      [&#x27;clean&#x27;],
    ]
  };



  constructor(private fb: FormBuilder,
    public dialogRef: MatDialogRef&lt;DialogAddPost&gt;, private postService: PostService, private route: ActivatedRoute, private _errorBar: MatSnackBar,
    @Inject(MAT_DIALOG_DATA) public data: DialogDataAddPost
  ) {
    this.form &#x3D; this.fb.group({
      title: [&#x27;&#x27;, [Validators.required, Validators.maxLength(100)]]
    });
  }

  ngOnInit() {

  }

  /**
   * Comprueba que los datos del tema creado sean válidos y llama al servicio de temas para crear un nuevo tema a partir de dichos datos. 
   * Se dispara cuando el usuario pulsa el botón de crear.
   * Cierra el diálogo modal. */
  onClick() {
    if (this.form.valid) {
      this.invalidTitle &#x3D; false;

      //Llamar al servicio para crear posts.
      const title &#x3D; this.form.get(&#x27;title&#x27;)?.value;
      const message &#x3D; this.htmlContent;
      const creationDate &#x3D; new Date();
      const lastMessageDate &#x3D; creationDate;
      const authorId &#x3D; sessionStorage.getItem(&#x27;id&#x27;) as string;
      const isFavorite &#x3D; false;


      this.postService.createPost(this.data.workId, authorId, lastMessageDate, creationDate, message, title, isFavorite).subscribe({
        next: (response) &#x3D;&gt; {

        },
        error: (e) &#x3D;&gt; {
          this._errorBar.open(&quot;El título o la descripción indicada al crear el tema son inválidos.&quot;, &quot;X&quot;, { duration: 2000 })
        },
      });
      this.dialogRef.close();
    } else {
      this.invalidTitle &#x3D; true;
    }

  }
  /** Se dispara cuando el usuario pulsa el botón de &quot;Cancelar&quot;. Cierra el diálogo modal. */
  onNoClick(): void {
    this.dialogRef.close();
  }

  /** Evento que se dispara cuando el usuario escribe en el componente de editor de textos. */
  onChangedEditor(event: any): void {
    if (event.html) {
      this.htmlContent &#x3D; event.html;
    }
  }



}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;h1 mat-dialog-title&gt;Publicar un nuevo tema&lt;/h1&gt;
&lt;div mat-dialog-content&gt;
    &lt;form [formGroup]&#x3D;&quot;form&quot;&gt;
    &lt;mat-form-field class&#x3D;&quot;full-width-input&quot;&gt;
        &lt;mat-label&gt;Título&lt;/mat-label&gt;
        &lt;input
          matInput
          formControlName&#x3D;&quot;title&quot;
          required
        /&gt;
        &lt;mat-error  *ngIf&#x3D;&quot;invalidTitle&quot;&gt; Es obligatorio indicar un título que no supere los 100 caracteres.&lt;/mat-error&gt;
      &lt;/mat-form-field&gt;


    &lt;quill-editor id&#x3D;&quot;editor&quot; placeholder&#x3D;&#x27;&#x27; [modules]&#x3D;&quot;modulesQuill&quot;  (onEditorChanged)&#x3D;&quot;onChangedEditor($event)&quot; [styles]&#x3D;&quot;{height: &#x27;350px&#x27;}&quot;&gt;&lt;/quill-editor&gt;
&lt;/form&gt;

&lt;div id&#x3D;&quot;buttonPanel&quot;&gt;
  &lt;button mat-raised-button id&#x3D;&quot;createButton&quot; color&#x3D;&quot;primary&quot; (click)&#x3D;&quot;onClick()&quot;&gt;Crear&lt;/button&gt;
  &lt;button mat-raised-button id&#x3D;&quot;cancelButton&quot; (click)&#x3D;&quot;onNoClick()&quot; &gt;Cancelar&lt;/button&gt;
  
  

&lt;/div&gt;



&lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>../modal-foro/modal-add-post.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">mat-form-field{
    width: 90%;
    margin: 1% 1% 1% 1%
}


#buttonPanel{
    margin-top: 1%;
    
}


    #createButton {
        margin-right: 10%;
        float: right;
    }
    
    #cancelButton{
        float: right;
        margin-right: 2%;
    }</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><h1 mat-dialog-title>Publicar un nuevo tema</h1><div mat-dialog-content>    <form [formGroup]="form">    <mat-form-field class="full-width-input">        <mat-label>Título</mat-label>        <input          matInput          formControlName="title"          required        />        <mat-error  *ngIf="invalidTitle"> Es obligatorio indicar un título que no supere los 100 caracteres.</mat-error>      </mat-form-field>    <quill-editor id="editor" placeholder=\'\' [modules]="modulesQuill"  (onEditorChanged)="onChangedEditor($event)" [styles]="{height: \'350px\'}"></quill-editor></form><div id="buttonPanel">  <button mat-raised-button id="createButton" color="primary" (click)="onClick()">Crear</button>  <button mat-raised-button id="cancelButton" (click)="onNoClick()" >Cancelar</button>    </div></div></div>'
    var COMPONENTS = [{'name': 'AdminComponent', 'selector': 'app-admin'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BoardComponent', 'selector': 'app-board'},{'name': 'CalendarWorkComponent', 'selector': 'app-calendar-work'},{'name': 'ConfirmDialog', 'selector': 'confirm-dialog'},{'name': 'ContactoComponent', 'selector': 'app-contact'},{'name': 'CustomBreadcrumbComponent', 'selector': 'app-custom-breadcrumb'},{'name': 'DialogAddDirectory', 'selector': 'modal-add-directory.html'},{'name': 'DialogAddPost', 'selector': 'modal-add-post.html'},{'name': 'DialogAddWork', 'selector': 'add-work.html'},{'name': 'DialogManageTask', 'selector': 'dialog-manage-task.html'},{'name': 'DialogNewEvent', 'selector': 'modal-events.html'},{'name': 'DialogUploadFile', 'selector': 'modal-upload-file.html'},{'name': 'EntryCallDialogComponent', 'selector': 'app-entry-call-dialog'},{'name': 'FilesComponent', 'selector': 'app-files'},{'name': 'FooterComponent', 'selector': 'app-footer'},{'name': 'ForoComponent', 'selector': 'app-foro'},{'name': 'HeaderComponent', 'selector': 'app-header'},{'name': 'HelpComponent', 'selector': 'app-help'},{'name': 'InfoComponent', 'selector': 'app-info-work'},{'name': 'LegalInfoComponent', 'selector': 'app-legal-info'},{'name': 'ListTasksComponent', 'selector': 'app-list-tasks'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'MainComponent', 'selector': 'app-main'},{'name': 'ManageWorkComponent', 'selector': 'app-manage-work'},{'name': 'ModalAddUsers', 'selector': 'modal-add-users'},{'name': 'NotificationsComponent', 'selector': 'app-notifications'},{'name': 'Pagina404Component', 'selector': 'pagina404'},{'name': 'PostListComponent', 'selector': 'app-post-list'},{'name': 'PostManagementComponent', 'selector': 'app-post-management'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'SidenavComponent', 'selector': 'app-sidenav'},{'name': 'SignupComponent', 'selector': 'app-signup'},{'name': 'TasksComponent', 'selector': 'app-tasks'},{'name': 'VideocallsComponent', 'selector': 'app-videocalls'},{'name': 'WorkListComponent', 'selector': 'app-work-list'},{'name': 'WorkRequestsComponent', 'selector': 'app-work-requests'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'DialogAddPost'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'DialogAddPost.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
